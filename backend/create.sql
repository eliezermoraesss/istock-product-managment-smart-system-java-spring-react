create sequence tb_request_product_seq start with 1 increment by 50;
create table tb_address (numero integer, id bigserial not null, bairro varchar(255), cep varchar(255), localidade varchar(255), logradouro varchar(255), uf varchar(255), primary key (id));
create table tb_departament (cod_departamento integer, id bigserial not null, descricao_departamento varchar(255), primary key (id));
create table tb_employee (matricula integer, departament_id bigint, id bigserial not null, nome varchar(255), primary key (id));
create table tb_group (group_code integer, id bigserial not null, group_name varchar(255), primary key (id));
create table tb_ncm (id bigserial not null, ncm_code varchar(255), ncm_description varchar(255), primary key (id));
create table tb_order_item (quantity numeric(38,2), sub_total numeric(38,2), product_id bigint not null, product_order_id bigint not null, primary key (product_id, product_order_id));
create table tb_product (product_price numeric(38,2), product_quantity numeric(38,2), product_weigth numeric(38,2), group_id bigint, id bigserial not null, ncm_id bigint, product_registration_date TIMESTAMP WITHOUT TIME ZONE, unity_id bigint, product_code varchar(255) unique, product_description TEXT unique, status_produto varchar(255) check (status_produto in ('ACTIVE','BLOCKED')), primary key (id));
create table tb_product_supplier (product_id bigint not null, supplier_id bigint not null, primary key (product_id, supplier_id));
create table tb_request_product (total numeric(38,2), id bigint not null, order_date timestamp(6) with time zone, primary key (id));
create table tb_role (id bigserial not null, authority varchar(255), primary key (id));
create table tb_supplier (cod_fornecedor integer unique, address_id bigint unique, id bigserial not null, cnpj varchar(255) unique, inscricao_estadual varchar(255) unique, razao_social varchar(255), primary key (id));
create table tb_unity (id bigserial not null, unity_code varchar(255), unity_description varchar(255), primary key (id));
create table tb_user (id bigserial not null, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), primary key (id));
create table tb_user_role (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id));
alter table if exists tb_employee add constraint FKfuftn90dkauqxvpva7d9bqmhb foreign key (departament_id) references tb_departament;
alter table if exists tb_order_item add constraint FK1kiais5tdjpyipvuj0qckmysu foreign key (product_order_id) references tb_request_product;
alter table if exists tb_order_item add constraint FK4h5xid5qehset7qwe5l9c997x foreign key (product_id) references tb_product;
alter table if exists tb_product add constraint FKq56eyl7v440kcgfna6j9d24jr foreign key (group_id) references tb_group;
alter table if exists tb_product add constraint FKxh9m4ne9q5p5cfx0d0bf9ix4 foreign key (ncm_id) references tb_ncm;
alter table if exists tb_product add constraint FKrcg0qwq5yq9um1x84h8u957m foreign key (unity_id) references tb_unity;
alter table if exists tb_product_supplier add constraint FKsuny6mdqxe9u2mkikv5eudgor foreign key (supplier_id) references tb_supplier;
alter table if exists tb_product_supplier add constraint FKhm9dbkht6uggfk477bmuhlkq4 foreign key (product_id) references tb_product;
alter table if exists tb_supplier add constraint FKsb2081kkqkqdy3w471s86x0av foreign key (address_id) references tb_address;
alter table if exists tb_user_role add constraint FKea2ootw6b6bb0xt3ptl28bymv foreign key (role_id) references tb_role;
alter table if exists tb_user_role add constraint FK7vn3h53d0tqdimm8cp45gc0kl foreign key (user_id) references tb_user;
INSERT INTO tb_user (first_name, last_name, email, password) VALUES ('Eliezer', 'Brown', 'eliezer@gmail.com', '$2a$10$eACCYoNOHEqXve8aIWT8Nu3PkMXWBaOxJ9aORUYzfMQCbVBIhZ8tG');
INSERT INTO tb_user (first_name, last_name, email, password) VALUES ('Nádia', 'Green', 'nadia@gmail.com', '$2a$10$eACCYoNOHEqXve8aIWT8Nu3PkMXWBaOxJ9aORUYzfMQCbVBIhZ8tG');
INSERT INTO tb_role (authority) VALUES ('ROLE_OPERATOR');
INSERT INTO tb_role (authority) VALUES ('ROLE_ADMIN');
INSERT INTO tb_user_role (user_id, role_id) VALUES (1, 1);
INSERT INTO tb_user_role (user_id, role_id) VALUES (2, 1);
INSERT INTO tb_user_role (user_id, role_id) VALUES (2, 2);
INSERT INTO tb_address (logradouro, numero, bairro, localidade, uf, cep) VALUES ('Rua das Flores', 300, 'Centro', 'Uberlândia', 'MG', '38400-000');
INSERT INTO tb_address (logradouro, numero, bairro, localidade, uf, cep) VALUES ('Avenida Matos', 105, 'Centro', 'Uberlândia', 'MG', '38400-000');
INSERT INTO tb_address (logradouro, numero, bairro, localidade, uf, cep) VALUES ('Avenida Floriano', 2106, 'Centro', 'Uberlândia', 'MG', '38400-000');
INSERT INTO tb_address (logradouro, numero, bairro, localidade, uf, cep) VALUES ('Rua das Palmeiras', 800, 'Centro', 'Mogi Mirim', 'SP', '38400-000');
INSERT INTO tb_address (logradouro, numero, bairro, localidade, uf, cep) VALUES ('Rua das Palmeiras', 900, 'Centro', 'Uberlândia', 'RJ', '38400-000');
INSERT INTO tb_address (logradouro, numero, bairro, localidade, uf, cep) VALUES ('Rua das Palmeiras', 1000, 'Centro', 'Uberlândia', 'AM', '38400-000');
INSERT INTO tb_address (logradouro, numero, bairro, localidade, uf, cep) VALUES ('Rua das Palmeiras', 777, 'Centro', 'Uberlândia', 'ES', '38400-000');
INSERT INTO tb_address (logradouro, numero, bairro, localidade, uf, cep) VALUES ('Rua das Palmeiras', 2, 'Centro', 'Uberlândia', 'RS', '38400-000');
INSERT INTO tb_group (group_code, group_name) VALUES (1, 'EPI');
INSERT INTO tb_group (group_code, group_name) VALUES (2, 'MECANICA');
INSERT INTO tb_group (group_code, group_name) VALUES (3, 'ELETRICA');
INSERT INTO tb_group (group_code, group_name) VALUES (4, 'ATIVOS');
INSERT INTO tb_supplier(cod_fornecedor, razao_social, cnpj, address_id) VALUES (1, 'Fornecedor 1', '123456789', 1);
INSERT INTO tb_supplier(cod_fornecedor, razao_social, cnpj, address_id) VALUES (2, 'Fornecedor 2', '12345', 2);
INSERT INTO tb_supplier(cod_fornecedor, razao_social, cnpj, address_id) VALUES (3, 'Fornecedor 3', '12', 3);
INSERT INTO tb_product (product_code, product_description, product_registration_date, product_quantity, group_id, product_price) VALUES (1, 'Protetor auricular', NOW(), 5, 1, 10.99);
INSERT INTO tb_product (product_code, product_description, product_registration_date, product_quantity, group_id, product_price) VALUES (2, 'Parafuso sextavado', NOW(), 60, 2, 6.02);
INSERT INTO tb_product (product_code, product_description, product_registration_date, product_quantity, group_id, product_price) VALUES (3, 'CLP Siemens', NOW(), 9, 3, 4.01);
INSERT INTO tb_product (product_code, product_description, product_registration_date, product_quantity, group_id, product_price) VALUES (4, 'Servidor Dell', NOW(), 1, 4, 10000);
INSERT INTO tb_product_supplier (product_id, supplier_id) VALUES (1, 1);
INSERT INTO tb_product_supplier (product_id, supplier_id) VALUES (1, 2);
INSERT INTO tb_product_supplier (product_id, supplier_id) VALUES (2, 1);
INSERT INTO tb_product_supplier (product_id, supplier_id) VALUES (2, 3);
INSERT INTO tb_product_supplier (product_id, supplier_id) VALUES (3, 1);
INSERT INTO tb_product_supplier (product_id, supplier_id) VALUES (3, 2);
INSERT INTO tb_product_supplier (product_id, supplier_id) VALUES (3, 3);
